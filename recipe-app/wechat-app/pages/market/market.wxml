<view class="container">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="page-title">发现美食</text>
    <text class="page-subtitle">探索来自各地的精选菜谱</text>
  </view>

  <!-- 新菜谱提示 -->
  <view class="new-notice" wx:if="{{newCount > 0}}">
    <image src="/images/notice.png" mode="aspectFit"/>
    <text>今日新增 {{newCount}} 道菜谱</text>
  </view>

  <!-- 菜谱瀑布流 -->
  <view class="recipe-grid">
    <view class="recipe-item" 
          wx:for="{{recipes}}" 
          wx:key="_id"
          bindtap="goToDetail"
          data-id="{{item._id}}">
      <view class="recipe-image-wrapper">
        <image class="recipe-image {{!item.imageUrl ? 'placeholder' : ''}}" 
               src="{{item.imageUrl || '/images/default-food.png'}}" 
               mode="aspectFill"/>
        <view class="cuisine-badge">{{item.cuisine}}</view>
      </view>
      <view class="recipe-content">
        <text class="recipe-name">{{item.name}}</text>
        <view class="recipe-footer">
          <text class="cook-time" wx:if="{{item.cookTime}}">{{item.cookTime}}分钟</text>
          <view class="favorite-btn" catchtap="addFavorite" data-item="{{item}}">
            <image src="/images/heart.png" mode="aspectFit"/>
            <text>收藏</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{!loading && recipes.length === 0}}">
    <image src="/images/empty-market.png" mode="aspectFit" class="empty-icon"/>
    <text class="empty-text">暂无新菜谱\n稍后再来看看吧</text>
  </view>

  <!-- 加载状态 -->
  <view class="loading-more" wx:if="{{loadingMore}}">
    <view class="loading-dots">
      <view class="dot"></view>
      <view class="dot"></view>
      <view class="dot"></view>
    </view>
  </view>
  <view class="no-more" wx:if="{{noMore && recipes.length > 0}}">
    <text>已经到底了</text>
  </view>
</view>
